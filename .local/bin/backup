#!/usr/bin/bash
#
# backs up linux filesystem to a .img file

# TODO add -list option
# TODO add -restore [backup number]
# TODO show the size of the finished backup

# check if script is running as root
if [ "$EUID" -ne 0 ]
  then echo "Command must be run as root"
  exit
fi

echo "Starting backup..."

destination="/home/kro/backup/$(date "+%F_%H%M")"

echo "Backing up root file system to $destination"


rsync -aAHXv --delete --exclude={"/dev/*","/proc/*","/sys/*","/tmp/*","/run/*","/mnt/*","/media/*","/lost+found","/home/kro/Downloads/","/home/kro/backup/*"} / $destination

